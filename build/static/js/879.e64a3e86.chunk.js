"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[879],{7879:function(e,s,a){a.r(s),a.d(s,{default:function(){return S}});var l=a(2791),i=a(6871),r=a(4880),n=a(3504),t=a(6226),d=a(184);function c(){var e,s,a,l,i,r=(0,t.aC)().currentUser,c=null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.firstName,o=null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.lastName,m="".concat(c," ").concat(o);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"card mb-5 mb-xl-10",id:"kt_profile_details_view",children:[(0,d.jsxs)("div",{className:"card-header cursor-pointer",children:[(0,d.jsx)("div",{className:"card-title m-0",children:(0,d.jsx)("h3",{className:"fw-bolder m-0",children:"Profile Details"})}),(0,d.jsx)(n.rU,{to:"/crafted/account/settings",className:"btn btn-primary align-self-center",children:"Edit Profile"})]}),(0,d.jsxs)("div",{className:"card-body p-9",children:[(0,d.jsxs)("div",{className:"row mb-7",children:[(0,d.jsx)("label",{className:"col-lg-4 fw-bold text-muted",children:"Full Name"}),(0,d.jsx)("div",{className:"col-lg-8",children:(0,d.jsx)("span",{className:"fw-bolder fs-6 text-dark",children:m})})]}),(0,d.jsxs)("div",{className:"row mb-7",children:[(0,d.jsx)("label",{className:"col-lg-4 fw-bold text-muted",children:"Email"}),(0,d.jsx)("div",{className:"col-lg-8 fv-row",children:(0,d.jsx)("span",{className:"fw-bold fs-6",children:null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.email})})]}),(0,d.jsxs)("div",{className:"row mb-7",children:[(0,d.jsxs)("label",{className:"col-lg-4 fw-bold text-muted",children:["Contact Phone",(0,d.jsx)("i",{className:"fas fa-exclamation-circle ms-1 fs-7","data-bs-toggle":"tooltip",title:"Phone number must be active"})]}),(0,d.jsxs)("div",{className:"col-lg-8 d-flex align-items-center",children:[(0,d.jsx)("span",{className:"fw-bolder fs-6 me-2",children:null===r||void 0===r||null===(l=r.data)||void 0===l?void 0:l.phoneNumber}),(0,d.jsx)("span",{className:"badge badge-success",children:"Verified"})]})]}),(0,d.jsxs)("div",{className:"row mb-7",children:[(0,d.jsx)("label",{className:"col-lg-4 fw-bold text-muted",children:"Role"}),(0,d.jsx)("div",{className:"col-lg-8",children:(0,d.jsx)("a",{href:"#",className:"fw-bold fs-6 text-dark text-hover-primary",children:null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.role})})]})]})]})})}var o=a(1413),m=a(5861),u=a(885),x=a(4687),v=a.n(x),h=a(2930),f=a(6863),p=a(5173),b=a(9806),N=a(1632),g=a(5005),j=a(5899),w=a(4569),y=a.n(w),k=f.Ry().shape({firstName:f.Z_().min(3,"Minimum 4 Latter").max(50,"Maximum 50 Latter").required("First name is required"),lastName:f.Z_().min(3,"Minimum 3 Latter").max(50,"Maximum 50 Latter").required("Last name is required"),phoneNumber:f.Z_().min(3,"Minimum 13 Number").max(50,"Maximum 50 Number").required("Phone Number is required")}),_=function(){var e,s,a,r,c,x,f,w,_,C=(0,l.useState)(),F=(0,u.Z)(C,2),P=F[0],S=F[1],Z=(0,l.useState)(),A=(0,u.Z)(Z,2),D=A[0],U=A[1],L=(0,l.useRef)(null);(0,l.useEffect)((function(){if(P){var e=new FileReader;e.onloadend=function(){U(e.result)},e.readAsDataURL(P)}else U(null)}),[P]);var q=(0,i.s0)(),M=(0,l.useState)(!1),T=(0,u.Z)(M,2),V=T[0],R=T[1],E=(0,t.aC)(),W=E.saveAuth,I=E.setCurrentUser,O=(0,t.aC)().currentUser,z={_id:(null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e._id)||"",password:(null===O||void 0===O||null===(s=O.data)||void 0===s?void 0:s.password)||"",email:(null===O||void 0===O||null===(a=O.data)||void 0===a?void 0:a.email)||"",firstName:(null===O||void 0===O||null===(r=O.data)||void 0===r?void 0:r.firstName)||"",lastName:(null===O||void 0===O||null===(c=O.data)||void 0===c?void 0:c.lastName)||"",phoneNumber:(null===O||void 0===O||null===(x=O.data)||void 0===x?void 0:x.phoneNumber)||"",image:(null===O||void 0===O||null===(f=O.data)||void 0===f?void 0:f.image)||"",role:(null===O||void 0===O||null===(w=O.data)||void 0===w?void 0:w.role)||"",isLive:(null===O||void 0===O||null===(_=O.data)||void 0===_?void 0:_.isLive)||""},B=(0,p.TA)({initialValues:z,validationSchema:k,onSubmit:function(){var e=(0,m.Z)(v().mark((function e(s,a){var l,i,r,n,t,d,c,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=a.setStatus,i=a.setSubmitting,console.log("this image value",s.image),"http://3.136.0.152:3000/",r="".concat("http://3.136.0.152:3000/","admin/updateProfile"),(n=new FormData).append("firstName",s.firstName),n.append("lastName",s.lastName),n.append("phoneNumber",s.phoneNumber),n.append("image",s.image),e.next=11,y().post(r,n).then(console.log).catch(console.error);case 11:return B.resetForm(),setTimeout((function(){q("/crafted/account/overview")}),500),R(!0),e.prev=14,e.next=17,(0,g.ck)(s.firstName,s.lastName,s.phoneNumber,s.image);case 17:if(t=e.sent,"success"!==(d=t.data).status){e.next=28;break}return W(d),e.next=23,(0,g.TO)(d.token);case 23:c=e.sent,o=c.data,I(o),e.next=32;break;case 28:W(void 0),l(d.message),i(!1),R(!1);case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(14),console.error(e.t0);case 37:case"end":return e.stop()}}),e,null,[[14,34]])})));return function(s,a){return e.apply(this,arguments)}}()});return(0,l.useEffect)((function(){j.w8.bootstrap()}),[]),(0,d.jsxs)("div",{className:"card mb-5 mb-xl-10",children:[(0,d.jsxs)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_profile_details","aria-expanded":"true","aria-controls":"kt_account_profile_details",children:[(0,d.jsx)("div",{className:"card-title m-0",children:(0,d.jsx)("h3",{className:"fw-bolder m-0",children:"Profile Details"})}),(0,d.jsx)(n.rU,{to:"/crafted/account/overview",className:"btn btn-primary align-self-center",children:"Cancel"})]}),(0,d.jsx)("div",{id:"kt_account_profile_details",className:"collapse show",children:(0,d.jsxs)("form",{onSubmit:B.handleSubmit,noValidate:!0,className:"form",children:[(0,d.jsxs)("div",{className:"card-body border-top p-9",children:[(0,d.jsxs)("div",{className:"row mb-6",children:[B.status?(0,d.jsx)("div",{className:"mb-lg-15 alert alert-success",children:(0,d.jsx)("div",{className:"alert-text font-weight-bold",children:B.status})}):null,(0,d.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:"Avatar"}),(0,d.jsxs)("div",{className:"col-lg-8",children:[(0,d.jsxs)("div",{className:"image-input image-input-outline","data-kt-image-input":"true",children:[(0,d.jsx)("div",{className:"image-input-wrapper w-125px h-125px",style:{backgroundImage:"url(".concat((0,h.T7)("".concat(D)),")"),zIndex:2},children:D?(0,d.jsx)("img",{style:{height:"125px",width:"125px"},src:D,alt:"preview"}):null}),(0,d.jsx)("label",{htmlFor:"file-upload",className:"file-upload",style:{zIndex:1,position:"absolute",top:0},children:(0,d.jsxs)("div",{className:"fileUploadButton",children:[(0,d.jsx)(b.G,{className:"awesomeAboutPhoto",icon:N.Xcf,color:"darkblue",style:{height:"20px"},onClick:function(e){var s;e.preventDefault(),null===(s=L.current)||void 0===s||s.click()}}),(0,d.jsx)("input",{ref:L,id:"file-upload",type:"file",accept:"image/png, image/jpeg",onChange:function(e){console.log(".....",e.target.files[0]),B.setFieldValue("image",e.target.files[0]);var s=e.target.files[0];B.setFieldTouched("image",!0),s&&"image"===s.type.substr(0,5)?S(s):S(null)},style:{display:"none"}})]})})]}),B.touched.image&&B.errors.image&&(0,d.jsx)("div",{className:"fv-plugins-message-container",children:(0,d.jsx)("div",{className:"fv-help-block",children:B.errors.image})})]})]}),(0,d.jsxs)("div",{className:"row mb-6",children:[(0,d.jsx)("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Full Name"}),(0,d.jsx)("div",{className:"col-lg-8",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-lg-6 fv-row",children:[(0,d.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",className:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:"First name"},B.getFieldProps("firstName")),{},{onChange:B.handleChange,value:B.values.firstName})),B.touched.firstName&&B.errors.firstName&&(0,d.jsx)("div",{className:"fv-plugins-message-container",children:(0,d.jsx)("div",{className:"fv-help-block",children:B.errors.firstName})})]}),(0,d.jsxs)("div",{className:"col-lg-6 fv-row",children:[(0,d.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",className:"form-control form-control-lg form-control-solid",placeholder:"Last name"},B.getFieldProps("lastName")),{},{onChange:B.handleChange,value:B.values.lastName})),B.touched.lastName&&B.errors.lastName&&(0,d.jsx)("div",{className:"fv-plugins-message-container",children:(0,d.jsx)("div",{className:"fv-help-block",children:B.errors.lastName})})]})]})})]}),(0,d.jsxs)("div",{className:"row mb-6",children:[(0,d.jsx)("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Phone Number"}),(0,d.jsx)("div",{className:"col-lg-8",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-lg-6 fv-row",children:[(0,d.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",className:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:"Phone Number"},B.getFieldProps("phoneNumber")),{},{onChange:B.handleChange,value:B.values.phoneNumber})),B.touched.phoneNumber&&B.errors.phoneNumber&&(0,d.jsx)("div",{className:"fv-plugins-message-container",children:(0,d.jsx)("div",{className:"fv-help-block",children:B.errors.phoneNumber})})]})})})]})]}),(0,d.jsx)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:(0,d.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:B.isSubmitting||!B.isValid,children:[!V&&"Save Changes",V&&(0,d.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait...",(0,d.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]})})]})};function C(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(_,{})})}var F=function(){var e,s,a,l,r,c,o,m=(0,i.TH)(),u=(0,t.aC)().currentUser,x=null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.firstName,v=null===u||void 0===u||null===(s=u.data)||void 0===s?void 0:s.lastName,f="".concat(x," ").concat(v);return(0,d.jsx)("div",{className:"card mb-5 mb-xl-10",children:(0,d.jsxs)("div",{className:"card-body pt-9 pb-0",children:[(0,d.jsxs)("div",{className:"d-flex flex-wrap flex-sm-nowrap mb-3",children:[(0,d.jsx)("div",{className:"me-7 mb-4",children:(0,d.jsxs)("div",{className:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative",children:[(0,d.jsx)("img",{src:(0,h.T7)("".concat(null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.image)),alt:"Metronic"}),(0,d.jsx)("div",{className:"position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-white h-20px w-20px"})]})}),(0,d.jsxs)("div",{className:"flex-grow-1",children:[(0,d.jsx)("div",{className:"d-flex justify-content-between align-items-start flex-wrap mb-2",children:(0,d.jsxs)("div",{className:"d-flex flex-column",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,d.jsx)("a",{href:"#",className:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1",children:f}),(0,d.jsx)("a",{href:"#",children:(0,d.jsx)(h.D8,{path:"/media/icons/duotune/general/gen026.svg",className:"svg-icon-1 svg-icon-primary"})}),(0,d.jsx)("a",{href:"#",className:"btn btn-sm btn-light-success fw-bolder ms-2 fs-8 py-1 px-3","data-bs-toggle":"modal","data-bs-target":"#kt_modal_upgrade_plan",children:null===u||void 0===u||null===(l=u.data)||void 0===l?void 0:l.role})]}),(0,d.jsxs)("div",{className:"d-flex flex-wrap fw-bold fs-6 mb-4 pe-2",children:[(0,d.jsxs)("a",{href:"#",className:"d-flex align-items-center text-gray-400 text-hover-primary me-5 mb-2",children:[(0,d.jsx)(h.D8,{path:"/media/icons/duotune/communication/com006.svg",className:"svg-icon-4 me-1"}),null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.role]}),(0,d.jsxs)("a",{href:"#",className:"d-flex align-items-center text-gray-400 text-hover-primary me-5 mb-2",children:[(0,d.jsx)(h.D8,{path:"/media/icons/duotune/general/gen018.svg",className:"svg-icon-4 me-1"}),null===u||void 0===u||null===(c=u.data)||void 0===c?void 0:c.phoneNumber]}),(0,d.jsxs)("a",{href:"#",className:"d-flex align-items-center text-gray-400 text-hover-primary mb-2",children:[(0,d.jsx)(h.D8,{path:"/media/icons/duotune/communication/com011.svg",className:"svg-icon-4 me-1"}),null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.email]})]})]})}),(0,d.jsxs)("div",{className:"d-flex flex-wrap flex-stack",children:[(0,d.jsx)("div",{className:"d-flex flex-column flex-grow-1 pe-8",children:(0,d.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,d.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)(h.D8,{path:"/media/icons/duotune/arrows/arr066.svg",className:"svg-icon-3 svg-icon-success me-2"}),(0,d.jsx)("div",{className:"fs-2 fw-bolder",children:"4500$"})]}),(0,d.jsx)("div",{className:"fw-bold fs-6 text-gray-400",children:"Earnings"})]}),(0,d.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)(h.D8,{path:"/media/icons/duotune/arrows/arr065.svg",className:"svg-icon-3 svg-icon-danger me-2"}),(0,d.jsx)("div",{className:"fs-2 fw-bolder",children:"75"})]}),(0,d.jsx)("div",{className:"fw-bold fs-6 text-gray-400",children:"Projects"})]}),(0,d.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3",children:[(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)(h.D8,{path:"/media/icons/duotune/arrows/arr066.svg",className:"svg-icon-3 svg-icon-success me-2"}),(0,d.jsx)("div",{className:"fs-2 fw-bolder",children:"60%"})]}),(0,d.jsx)("div",{className:"fw-bold fs-6 text-gray-400",children:"Success Rate"})]})]})}),(0,d.jsxs)("div",{className:"d-flex align-items-center w-200px w-sm-300px flex-column mt-3",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between w-100 mt-auto mb-2",children:[(0,d.jsx)("span",{className:"fw-bold fs-6 text-gray-400",children:"Profile Compleation"}),(0,d.jsx)("span",{className:"fw-bolder fs-6",children:"50%"})]}),(0,d.jsx)("div",{className:"h-5px mx-3 w-100 bg-light mb-3",children:(0,d.jsx)("div",{className:"bg-success rounded h-5px",role:"progressbar",style:{width:"50%"}})})]})]})]})]}),(0,d.jsx)("div",{className:"d-flex overflow-auto h-55px",children:(0,d.jsxs)("ul",{className:"nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bolder flex-nowrap",children:[(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(n.rU,{className:"nav-link text-active-primary me-6 "+("/crafted/account/overview"===m.pathname&&"active"),to:"/crafted/account/overview",children:"Overview"})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(n.rU,{className:"nav-link text-active-primary me-6 "+("/crafted/account/settings"===m.pathname&&"active"),to:"/crafted/account/settings",children:"Settings"})})]})})]})})},P=[{title:"Account",path:"/crafted/account/overview",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],S=function(){return(0,d.jsx)(i.Z5,{children:(0,d.jsxs)(i.AW,{element:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F,{}),(0,d.jsx)(i.j3,{})]}),children:[(0,d.jsx)(i.AW,{path:"overview",element:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.V1,{breadcrumbs:P,children:"Overview"}),(0,d.jsx)(c,{})]})}),(0,d.jsx)(i.AW,{path:"settings",element:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.V1,{breadcrumbs:P,children:"Settings"}),(0,d.jsx)(C,{})]})}),(0,d.jsx)(i.AW,{index:!0,element:(0,d.jsx)(i.Fg,{to:"/crafted/account/overview"})})]})})}}}]);
//# sourceMappingURL=879.e64a3e86.chunk.js.map